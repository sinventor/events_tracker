// Generated by CoffeeScript 1.9.1
EventsTracker.Models.Event = Backbone.Model.extend({
  urlRoot: function() {
    return '/events';
  },
  initialize: function() {
    return this.now = new Date();
  },
  defaults: {
    title: '',
    startDate: moment(this.now).format('YYYY-MM-DD'),
    startTime: moment(this.now).format('HH:mm'),
    endDate: moment(this.now).format('YYYY-MM-DD'),
    endTime: moment(this.now).add(25, 'minutes').format('HH:mm'),
    repeat_interval: null
  },
  composeDateTime: function(date, time) {
    var result;
    result = date;
    result += ' ' + time;
    return result;
  },
  parse: function(r, op) {
    return {
      title: 'Op[s'
    };
  },
  toJSON: function() {
    return {
      title: this.get('title'),
      start: this.composeDateTime(this.get('startDate'), this.get('startTime')),
      end: this.composeDateTime(this.get('endDate'), this.get('endTime')),
      repeat_interval: this.get('repeat_interval')
    };
  }
});
